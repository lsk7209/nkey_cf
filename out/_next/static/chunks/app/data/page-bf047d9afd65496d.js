(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[315],{2898:function(e,t,a){"use strict";a.d(t,{Z:function(){return createLucideIcon}});var s=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),createLucideIcon=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:i="",children:o,...d},x)=>(0,s.createElement)("svg",{ref:x,...r,width:l,height:l,stroke:a,strokeWidth:n?24*Number(c)/Number(l):c,className:["lucide",`lucide-${toKebabCase(e)}`,i].join(" "),...d},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a}},7332:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5817:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},1827:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2104:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(2898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},4524:function(e,t,a){Promise.resolve().then(a.bind(a,6299))},6299:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return DataPage}});var s=a(7437),r=a(2265),l=a(7332),c=a(1827),n=a(5817),i=a(2104);let o=(0,r.memo)(()=>(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"키워드"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PC 검색량"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"모바일 검색량"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"총 검색량"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"카페문서수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"블로그문서수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"웹문서수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"뉴스문서수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"총문서수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"잠재력점수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"PC CTR"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"모바일 CTR"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"광고수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"경쟁지수"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"시드활용"}),(0,s.jsx)("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"수집일시"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.from({length:10}).map((e,t)=>(0,s.jsxs)("tr",{className:"animate-pulse",children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-16"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded-full w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-8"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-8"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-8"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-6 bg-gray-200 rounded-full w-12"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-8"})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-20"})})]},t))})]})})}));function DataPage(){let[e,t]=(0,r.useState)([]),[a,d]=(0,r.useState)(!0),[x,p]=(0,r.useState)(0),[m,h]=(0,r.useState)(1),[u,y]=(0,r.useState)(500),[g,j]=(0,r.useState)(0),[f,w]=(0,r.useState)(null),[N,b]=(0,r.useState)(""),[v,k]=(0,r.useState)("all"),[_,C]=(0,r.useState)("all"),[S,D]=(0,r.useState)("cafe_count"),[O,T]=(0,r.useState)("asc"),[P,E]=(0,r.useState)(!1),[R,A]=(0,r.useState)(""),[Z,L]=(0,r.useState)(!1),[I,K]=(0,r.useState)(null),[U,F]=(0,r.useState)(10),fetchData=async()=>{d(!0),w(null);let e=Date.now();try{var a;console.log("KV 상태 테스트 시작...");let s=await fetch("/api/test-data"),r=await s.json();if(console.log("KV 테스트 결과:",r),!r.success){let e="KV 스토리지 문제: ".concat(r.message);console.error(e),w(e),t([]),p(0),j(0);return}if(0===r.totalKeys){let e="저장된 데이터가 없습니다. 먼저 키워드를 검색해보세요.";console.log(e),w(e),t([]),p(0),j(0);return}let l=new URLSearchParams({page:m.toString(),pageSize:u.toString(),sortBy:S,sortOrder:O,...N&&{query:N},..."all"!==v&&{dateFilter:v},..."all"!==_&&{compFilter:_}});console.log("데이터 불러오기 요청:",l.toString());let c=await fetch("/api/load-data?".concat(l.toString()));if(!c.ok){let e=await c.text(),a="데이터 불러오기 실패: ".concat(c.status," - ").concat(e);console.error(a),w(a),t([]),p(0),j(0);return}let n=await c.json(),i=Date.now()-e;console.log("데이터 불러오기 완료: ".concat(i,"ms, ").concat(n.total,"개 레코드")),console.log("API 응답 전체:",n),console.log("items 배열:",n.items),console.log("items 길이:",null===(a=n.items)||void 0===a?void 0:a.length),n.debug&&console.log("디버그 정보:",n.debug);let o=n.items||[];console.log("설정할 데이터:",o),console.log("데이터 타입:",typeof o,Array.isArray(o)),t(o),p(n.total||0),j(n.totalPages||0),w(null)}catch(a){let e="데이터 불러오기 오류: ".concat(a instanceof Error?a.message:"알 수 없는 오류");console.error(e),w(e),t([]),p(0),j(0)}finally{d(!1)}},handleBulkUpdateDocuments=async()=>{if(confirm("모든 키워드의 문서수를 업데이트하시겠습니까? 시간이 오래 걸릴 수 있습니다.")){E(!0),A("전체 문서수 업데이트를 시작합니다...");try{console.log("문서수 업데이트 요청 시작...");let e=await fetch("/api/update-documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:"all",limit:100})});if(console.log("문서수 업데이트 응답:",e.status),!e.ok){let t=await e.json();throw Error(t.message||"HTTP ".concat(e.status))}let t=await e.json();console.log("문서수 업데이트 결과:",t),A("전체 문서수 업데이트가 완료되었습니다. 데이터를 새로고침합니다..."),await fetchData(),alert("전체 문서수 업데이트 완료: ".concat(t.updatedCount,"개 업데이트됨").concat(t.errorCount>0?", ".concat(t.errorCount,"개 오류"):""))}catch(e){console.error("대량 문서수 업데이트 오류:",e),alert("전체 문서수 업데이트 중 오류가 발생했습니다: ".concat(e instanceof Error?e.message:"알 수 없는 오류"))}finally{E(!1),A("")}}},handleUpdateDocuments=async()=>{if(0===e.length){alert("업데이트할 데이터가 없습니다.");return}E(!0),A("문서수 수집을 시작합니다...");try{let t=[...new Set(e.map(e=>e.keyword))];for(let e=0;e<t.length;e++){let a=t[e];A("문서수 수집 중... (".concat(e+1,"/").concat(t.length,") - ").concat(a));let s=await fetch("/api/update-documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyword:a,limit:50})});if(!s.ok){console.error("문서수 업데이트 실패: ".concat(s.status));continue}let r=await s.json();console.log("문서수 업데이트 결과 (".concat(a,"):"),r)}A("문서수 수집이 완료되었습니다. 데이터를 새로고침합니다..."),await fetchData(),alert("문서수 수집이 완료되었습니다!")}catch(e){console.error("문서수 업데이트 오류:",e),alert("문서수 수집 중 오류가 발생했습니다.")}finally{E(!1),A("")}},handleExport=async()=>{try{let t=["키워드,PC 검색량,모바일 검색량,총 검색량,카페문서수,블로그문서수,웹문서수,뉴스문서수,총문서수,잠재력점수,PC CTR,모바일 CTR,광고수,경쟁지수,시드활용,수집일시",...e.map(e=>[e.rel_keyword,e.pc_search,e.mobile_search,e.total_search||e.pc_search+e.mobile_search,e.cafe_count,e.blog_count,e.web_count,e.news_count,e.total_docs||e.cafe_count+e.blog_count+e.web_count+e.news_count,e.potential_score||0,e.ctr_pc,e.ctr_mo,e.ad_count,e.comp_idx,e.seed_usage||"N/A",new Date(e.fetched_at).toLocaleString("ko-KR")].join(","))],a=t.join("\n"),s=new Blob(["\uFEFF"+a],{type:"text/csv;charset=utf-8;"}),r=window.URL.createObjectURL(s),l=document.createElement("a");l.href=r,l.download="keywords_".concat(new Date().toISOString().split("T")[0],".csv"),document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(r),document.body.removeChild(l)}catch(e){console.error("Export error:",e),alert("CSV 다운로드 중 오류가 발생했습니다.")}},checkAutoCollectStatus=async()=>{try{let e=await fetch("/api/auto-collect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"status"})});if(e.ok){let t=await e.json();K(t),L(t.isRunning||!1)}}catch(e){console.error("자동수집 상태 확인 오류:",e)}},handleStartAutoCollect=async()=>{if(U<1||U>50){alert("키워드 개수는 1-50개 사이로 입력해주세요.");return}L(!0),K(null);try{let e=await fetch("/api/auto-collect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"start",maxKeywords:U})});if(!e.ok)throw Error("자동수집 시작 실패");let t=await e.json();K(t.status),alert(t.message);let a=setInterval(async()=>{await checkAutoCollectStatus(),Z||(clearInterval(a),await fetchData())},3e3)}catch(e){console.error("자동수집 시작 오류:",e),alert("자동수집 시작 중 오류가 발생했습니다."),L(!1)}},handleStopAutoCollect=async()=>{try{let e=await fetch("/api/auto-collect",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"stop"})});if(e.ok){let t=await e.json();alert(t.message),L(!1),K(null)}}catch(e){console.error("자동수집 중지 오류:",e),alert("자동수집 중지 중 오류가 발생했습니다.")}};(0,r.useEffect)(()=>{fetchData(),checkAutoCollectStatus()},[m,u,N,v,_,S,O]);let formatNumber=e=>e>=1e4?"".concat((e/1e4).toFixed(1),"만"):e>=1e3?"".concat((e/1e3).toFixed(1),"천"):e.toLocaleString();return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.Z,{className:"h-8 w-8 text-primary-600"}),(0,s.jsx)("h1",{className:"ml-2 text-xl font-bold text-gray-900",children:"데이터 관리"})]}),(0,s.jsxs)("nav",{className:"flex space-x-4",children:[(0,s.jsx)("a",{href:"/",className:"text-gray-600 hover:text-gray-900",children:"홈으로"}),(0,s.jsx)("a",{href:"/analytics",className:"text-gray-600 hover:text-gray-900",children:"분석"})]})]})})}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsx)("div",{className:"card mb-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,s.jsx)("div",{className:"flex-1 min-w-64",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,s.jsx)("input",{type:"text",placeholder:"키워드 검색...",value:N,onChange:e=>b(e.target.value),className:"input-field pl-10"})]})}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("select",{value:v,onChange:e=>k(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"all",children:"전체 기간"}),(0,s.jsx)("option",{value:"today",children:"오늘"}),(0,s.jsx)("option",{value:"7days",children:"최근 7일"}),(0,s.jsx)("option",{value:"30days",children:"최근 30일"})]}),(0,s.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"input-field",children:[(0,s.jsx)("option",{value:"all",children:"전체 경쟁도"}),(0,s.jsx)("option",{value:"high",children:"높음"}),(0,s.jsx)("option",{value:"medium",children:"중간"}),(0,s.jsx)("option",{value:"low",children:"낮음"})]}),(0,s.jsxs)("select",{value:"".concat(S,"-").concat(O),onChange:e=>{let[t,a]=e.target.value.split("-");D(t),T(a)},className:"input-field",children:[(0,s.jsx)("option",{value:"cafe_count-asc",children:"카페문서수 낮은순 (기본)"}),(0,s.jsx)("option",{value:"cafe_count-desc",children:"카페문서수 높은순"}),(0,s.jsx)("option",{value:"total_search-desc",children:"총검색량 높은순"}),(0,s.jsx)("option",{value:"total_search-asc",children:"총검색량 낮은순"}),(0,s.jsx)("option",{value:"potential_score-desc",children:"잠재지수 높은순"}),(0,s.jsx)("option",{value:"potential_score-asc",children:"잠재지수 낮은순"}),(0,s.jsx)("option",{value:"fetched_at-desc",children:"최신순"}),(0,s.jsx)("option",{value:"fetched_at-asc",children:"오래된순"})]})]}),(0,s.jsxs)("button",{onClick:handleUpdateDocuments,disabled:P||0===e.length,className:"btn-secondary flex items-center gap-2 disabled:opacity-50",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),P?"문서수 수집 중...":"문서수 자동 수집"]}),(0,s.jsxs)("button",{onClick:handleBulkUpdateDocuments,disabled:P,className:"btn-secondary flex items-center gap-2 disabled:opacity-50",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),"전체 문서수 업데이트"]}),(0,s.jsxs)("button",{onClick:handleExport,className:"btn-primary flex items-center gap-2",children:[(0,s.jsx)(n.Z,{className:"h-4 w-4"}),"CSV 다운로드"]})]})}),(0,s.jsx)("div",{className:"card mb-6 bg-green-50 border-green-200",children:(0,s.jsxs)("div",{className:"flex flex-wrap gap-4 items-center",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("label",{className:"text-green-800 font-medium",children:"시드키워드 개수:"}),(0,s.jsx)("input",{type:"number",min:"1",max:"50",value:U,onChange:e=>F(parseInt(e.target.value)||10),disabled:Z,className:"input-field w-20 text-center"})]}),Z?(0,s.jsxs)("button",{onClick:handleStopAutoCollect,className:"btn-secondary flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),"자동수집 중지"]}):(0,s.jsxs)("button",{onClick:handleStartAutoCollect,className:"btn-primary flex items-center gap-2",children:[(0,s.jsx)(l.Z,{className:"h-4 w-4"}),"자동수집 시작"]}),I&&(0,s.jsxs)("div",{className:"text-green-700 text-sm",children:[I.message,I.isRunning&&(0,s.jsxs)("span",{className:"ml-2",children:["(",I.currentKeywordIndex||0,"/",I.totalKeywords||0,")"]})]})]})}),P&&(0,s.jsx)("div",{className:"card mb-6 bg-blue-50 border-blue-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-blue-800 font-medium",children:"문서수 자동 수집 중..."}),(0,s.jsx)("p",{className:"text-blue-600 text-sm",children:R})]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-number text-primary-600",children:x.toLocaleString()}),(0,s.jsx)("div",{className:"stat-label",children:"총 레코드"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-number text-green-600",children:e.filter(e=>"낮음"===e.comp_idx).length}),(0,s.jsx)("div",{className:"stat-label",children:"낮은 경쟁도"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-number text-yellow-600",children:e.filter(e=>"중간"===e.comp_idx).length}),(0,s.jsx)("div",{className:"stat-label",children:"중간 경쟁도"})]}),(0,s.jsxs)("div",{className:"stat-card",children:[(0,s.jsx)("div",{className:"stat-number text-red-600",children:e.filter(e=>"높음"===e.comp_idx).length}),(0,s.jsx)("div",{className:"stat-label",children:"높은 경쟁도"})]})]}),(0,s.jsx)("div",{className:"card bg-blue-50 border-blue-200 mb-4",children:(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-blue-800 font-semibold mb-2",children:"디버그 정보"}),(0,s.jsxs)("div",{className:"text-sm text-blue-600 space-y-1",children:[(0,s.jsxs)("p",{children:["로딩 상태: ",a?"로딩 중":"완료"]}),(0,s.jsxs)("p",{children:["데이터 개수: ",e.length]}),(0,s.jsxs)("p",{children:["총 개수: ",x]}),(0,s.jsxs)("p",{children:["현재 페이지: ",m," / ",g]}),(0,s.jsxs)("p",{children:["페이지 크기: ",u]}),f&&(0,s.jsxs)("p",{className:"text-red-600",children:["오류: ",f]})]})]})}),f&&(0,s.jsx)("div",{className:"card bg-red-50 border-red-200",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 p-4",children:[(0,s.jsx)(i.Z,{className:"h-6 w-6 text-red-500"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-red-800 font-semibold",children:"데이터 로드 오류"}),(0,s.jsx)("p",{className:"text-red-600 text-sm mt-1",children:f}),(0,s.jsx)("button",{onClick:fetchData,className:"mt-2 text-sm text-red-700 underline hover:text-red-800",children:"다시 시도"})]})]})}),a?(0,s.jsx)(o,{}):(0,s.jsx)("div",{className:"card",children:(0,s.jsx)("div",{className:"overflow-x-auto",children:0===e.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(l.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-500",children:"데이터가 없습니다."}),(0,s.jsxs)("div",{className:"mt-4 text-sm text-gray-400",children:[(0,s.jsxs)("p",{children:["총 개수: ",x]}),(0,s.jsxs)("p",{children:["현재 페이지: ",m]}),(0,s.jsxs)("p",{children:["페이지 크기: ",u]})]}),(0,s.jsx)("button",{onClick:fetchData,className:"mt-4 btn-primary",children:"새로고침"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"키워드"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PC 검색량"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"모바일 검색량"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"총 검색량"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"카페문서수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"블로그문서수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"웹문서수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"뉴스문서수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"총문서수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"잠재력점수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"PC CTR"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"모바일 CTR"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"광고수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"경쟁지수"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"시드활용"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"수집일시"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.rel_keyword}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.pc_search)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.mobile_search)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.total_search||e.pc_search+e.mobile_search)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.cafe_count)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.blog_count)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.web_count)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.news_count)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:formatNumber(e.total_docs||e.cafe_count+e.blog_count+e.web_count+e.news_count)}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat((e.potential_score||0)>10?"bg-green-100 text-green-800":(e.potential_score||0)>5?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:(e.potential_score||0).toFixed(1)})}),(0,s.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.ctr_pc,"%"]}),(0,s.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.ctr_mo,"%"]}),(0,s.jsxs)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.ad_count,"개"]}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("높음"===e.comp_idx?"bg-red-100 text-red-800":"중간"===e.comp_idx?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:e.comp_idx})}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:e.seed_usage||"N/A"}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(e.fetched_at).toLocaleString("ko-KR")})]},e.id))})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 bg-gray-50 border-t",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"페이지 크기:"}),(0,s.jsxs)("select",{value:u,onChange:e=>{y(Number(e.target.value)),h(1)},className:"input-field text-sm",children:[(0,s.jsx)("option",{value:50,children:"50"}),(0,s.jsx)("option",{value:100,children:"100"}),(0,s.jsx)("option",{value:200,children:"200"}),(0,s.jsx)("option",{value:500,children:"500"}),(0,s.jsx)("option",{value:1e3,children:"1000"}),(0,s.jsx)("option",{value:2e3,children:"2000"}),(0,s.jsx)("option",{value:5e3,children:"5000"}),(0,s.jsx)("option",{value:1e4,children:"전체"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:()=>h(Math.max(1,m-1)),disabled:1===m,className:"btn-secondary text-sm disabled:opacity-50",children:"이전"}),(0,s.jsxs)("span",{className:"text-sm text-gray-700",children:[m," / ",g]}),(0,s.jsx)("button",{onClick:()=>h(Math.min(g,m+1)),disabled:m===g,className:"btn-secondary text-sm disabled:opacity-50",children:"다음"})]})]})]})})})]})]})}o.displayName="DataTableSkeleton"},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s=a(2265),r=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var s,l={},o=null,d=null;for(s in void 0!==a&&(o=""+a),void 0!==t.key&&(o=""+t.key),void 0!==t.ref&&(d=t.ref),t)c.call(t,s)&&!i.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===l[s]&&(l[s]=t[s]);return{$$typeof:r,type:e,key:o,ref:d,props:l,_owner:n.current}}t.Fragment=l,t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=4524)}),_N_E=e.O()}]);